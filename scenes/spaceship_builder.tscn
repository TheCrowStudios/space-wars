[gd_scene load_steps=23 format=4 uid="uid://co1tn004fs0sk"]

[ext_resource type="Texture2D" uid="uid://dsbjpvqyv7ehi" path="res://sprites/spaceship.png" id="1_ml58o"]
[ext_resource type="Script" uid="uid://bp5bchp5n7cm8" path="res://scenes/spaceship_body.gd" id="2_e7wym"]
[ext_resource type="PackedScene" uid="uid://cwayjd5jnigj5" path="res://scenes/main_booster.tscn" id="3_ybcjm"]
[ext_resource type="PackedScene" uid="uid://buyk2c060gonj" path="res://scenes/fuel_tank.tscn" id="4_3qx80"]
[ext_resource type="Script" uid="uid://t0qctry0qfjx" path="res://scripts/spaceship_editor/spaceship_hull.gd" id="5_e7wym"]
[ext_resource type="PackedScene" uid="uid://b6v8muyp0qg5m" path="res://scenes/oxygen_tank.tscn" id="5_yn67l"]
[ext_resource type="PackedScene" uid="uid://cocec88e1iixv" path="res://scenes/CharacterStatic.tscn" id="9_ycq5x"]
[ext_resource type="PackedScene" uid="uid://bo301o06w84sa" path="res://scenes/mounting_marker.tscn" id="10_ml58o"]
[ext_resource type="Script" uid="uid://bv0wf0nqhnhce" path="res://scripts/spaceship_editor/spaceship_editor.gd" id="11_e7wym"]
[ext_resource type="PackedScene" uid="uid://dbvme2ycrsabr" path="res://scenes/gun_medium.tscn" id="12_3qx80"]
[ext_resource type="PackedScene" uid="uid://dhi86xsprv5t" path="res://scenes/spaceship_editor/editor_collision_area.tscn" id="12_yn67l"]
[ext_resource type="PackedScene" uid="uid://ditexeonnfybi" path="res://scenes/gun_missile.tscn" id="13_oj8rt"]
[ext_resource type="Texture2D" uid="uid://ddhpg8temrfmi" path="res://sprites/Ranitayas Guns Pack (16+ pixelart guns)/MachineGuns/1Machinegun01.png" id="13_yn67l"]
[ext_resource type="PackedScene" uid="uid://djf3pte7het1q" path="res://scenes/camera_controller.tscn" id="15_oj8rt"]

[sub_resource type="ArrayMesh" id="ArrayMesh_k3lwc"]
_surfaces = [{
"2d": true,
"aabb": AABB(-64, -28, 0, 125, 57, 0),
"attribute_data": PackedByteArray("AAD4PgAAgD0AAPg+zcz8PQAASD4AAKA9AACAPAAAoD0AAIA8AAAgPgAAAAAAACA+AAAAAAAA8D4AAIA8AADwPgAAgDwAAAw/AAAAAAAADD8AAAAAAABcPwAAgDwAAFw/AACAPAAAcD8AAEg+AABwP2Zm5D4AAGQ/AAD4PgAAZD8AAPg+AAB0PwAABj8AAHQ/AAAGP5qZYz8zM1Q/AABYPwAAaT8AAFg/AAB6P5qZLT8AAHo/zcysPgAAaj+amUk+AABqP5qZMT4AABQ/AAAAPgAABj8AAAA+AAAGPwAAgD0="),
"format": 34393296913,
"index_count": 78,
"index_data": PackedByteArray("AAAbABoAGgAZABgAFwAWABUAFQAUABMAEgARABAADgANAAwACwAKAAkABwAGAAUABAADAAIAAQAAABoAGgAYABcAFwAVABMAEgAQAA8ADgAMAAsACwAJAAgABwAFAAQABAACAAEAAQAaABcAFwATABIAEgAPAA4ADgALAAgABwAEAAEAAQAXABIAEgAOAAgACAAHAAEAAQASAAgA"),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 28,
"vertex_data": PackedByteArray("AAAAwAAA4MEAAADAzczAwQAAHMIAANjBAAB4wgAA2MEAAHjCAACwwQAAgMIAALDBAACAwgAAAMAAAHjCAAAAwAAAeMIAAEBAAACAwgAAQEAAAIDCAAC4QQAAeMIAALhBAAB4wgAA4EEAABzCAADgQdDM3MAAAMhBAAAAwAAAyEEAAADAAADoQQAAQEAAAOhBAABAQDQzx0FmZihCAACwQQAAUkIAALBBAAB0QmhmNkEAAHRCZmYmwQAAVEIzM5vBAABUQjMzp8EAACBBAADAwQAAQEAAAMDBAABAQAAA4ME=")
}]

[sub_resource type="Gradient" id="Gradient_343tk"]
offsets = PackedFloat32Array(0, 0.74568963)
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_51qc7"]
gradient = SubResource("Gradient_343tk")
width = 260
height = 160
fill = 1
fill_from = Vector2(0.5, 0.5)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_vue1i"]
polygon = PackedVector2Array(1, 0, 112, 6, 119, 14, 120, 36, 111, 45, 1, 51)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_oj8rt"]
size = Vector2(19, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_vb1a7"]
size = Vector2(11, 30)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_d8q65"]
size = Vector2(20, 12)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yn67l"]

[node name="Node2D" type="Node2D"]
script = ExtResource("11_e7wym")
weapons = Array[PackedScene]([ExtResource("12_3qx80"), ExtResource("13_oj8rt")])
fuel_tanks = Array[PackedScene]([ExtResource("4_3qx80")])
oxygen_tanks = Array[PackedScene]([ExtResource("5_yn67l")])

[node name="Hull" type="Node2D" parent="."]
visible = false

[node name="HullSprite" type="Sprite2D" parent="Hull"]
texture = ExtResource("1_ml58o")

[node name="SpaceshipHull" type="Node2D" parent="."]
visibility_layer = 3
position = Vector2(955, 492)
script = ExtResource("5_e7wym")

[node name="SpaceshipBody" type="MeshInstance2D" parent="SpaceshipHull"]
unique_name_in_owner = true
mesh = SubResource("ArrayMesh_k3lwc")
texture = ExtResource("1_ml58o")
script = ExtResource("2_e7wym")

[node name="Sprite2D2" type="Sprite2D" parent="SpaceshipHull"]
visible = false
texture = ExtResource("1_ml58o")

[node name="MainBooster" parent="SpaceshipHull" instance=ExtResource("3_ybcjm")]
position = Vector2(-62, -12)

[node name="MainBooster2" parent="SpaceshipHull" groups=["lockable"] instance=ExtResource("3_ybcjm")]
position = Vector2(-62, 14)

[node name="PointLight2D" type="PointLight2D" parent="SpaceshipHull"]
color = Color(0.3227234, 0.77462196, 0.87890625, 1)
energy = 2.34
range_layer_min = -1024
range_layer_max = 1024
texture = SubResource("GradientTexture2D_51qc7")

[node name="Walls" type="Area2D" parent="SpaceshipHull" groups=["Walls"]]
unique_name_in_owner = true
position = Vector2(-955, -484)
collision_mask = 0

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="SpaceshipHull/Walls"]
position = Vector2(60, 0)
polygon = PackedVector2Array(-8, 21, -121, 27, -120, 26, -8, 19, -2, 11, -2, -9, -8, -18, -120, -25, -120, 26, -121, 27, -121, -26, -8, -20, 0, -9, 0, 11)

[node name="CharacterStatic" parent="SpaceshipHull" instance=ExtResource("9_ycq5x")]
position = Vector2(38, 4)

[node name="InsideArea" type="Area2D" parent="SpaceshipHull" groups=["InsideArea"]]
unique_name_in_owner = true

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="SpaceshipHull/InsideArea"]
position = Vector2(-58, -23)
polygon = PackedVector2Array(0, 0, 108, 6, 108, 40, 0, 47)

[node name="LightOccluder2D" type="LightOccluder2D" parent="SpaceshipHull"]
position = Vector2(-60, -25)
occluder = SubResource("OccluderPolygon2D_vue1i")

[node name="Node2D" type="Node2D" parent="SpaceshipHull"]

[node name="MountingMarkers" type="Node2D" parent="SpaceshipHull"]
unique_name_in_owner = true

[node name="MountingMarker" parent="SpaceshipHull/MountingMarkers" instance=ExtResource("10_ml58o")]
position = Vector2(-49, -34)

[node name="MountingMarker2" parent="SpaceshipHull/MountingMarkers" instance=ExtResource("10_ml58o")]
position = Vector2(-31, -33)

[node name="MountingMarker3" parent="SpaceshipHull/MountingMarkers" instance=ExtResource("10_ml58o")]
position = Vector2(-15, -32)

[node name="MountingMarker4" parent="SpaceshipHull/MountingMarkers" instance=ExtResource("10_ml58o")]
position = Vector2(17, -30)

[node name="MountingMarker5" parent="SpaceshipHull/MountingMarkers" instance=ExtResource("10_ml58o")]
position = Vector2(35, -29)

[node name="MountingMarker6" parent="SpaceshipHull/MountingMarkers" instance=ExtResource("10_ml58o")]
position = Vector2(-48, 35)
rotation = -3.1415925

[node name="MountingMarker7" parent="SpaceshipHull/MountingMarkers" instance=ExtResource("10_ml58o")]
position = Vector2(-29, 34)
rotation = -3.1415925

[node name="MountingMarker8" parent="SpaceshipHull/MountingMarkers" instance=ExtResource("10_ml58o")]
position = Vector2(-13, 33)
rotation = -3.1415925

[node name="MountingMarker9" parent="SpaceshipHull/MountingMarkers" instance=ExtResource("10_ml58o")]
position = Vector2(19, 31)
rotation = -3.1415925

[node name="MountingMarker10" parent="SpaceshipHull/MountingMarkers" instance=ExtResource("10_ml58o")]
position = Vector2(37, 30)
rotation = -3.1415925

[node name="Camera2D" type="Camera2D" parent="SpaceshipHull"]

[node name="WeaponsContainer" type="Node2D" parent="SpaceshipHull"]
unique_name_in_owner = true

[node name="EditorCollisionArea" parent="SpaceshipHull" instance=ExtResource("12_yn67l")]
position = Vector2(33, 5)

[node name="CollisionShape2D" type="CollisionShape2D" parent="SpaceshipHull/EditorCollisionArea"]
position = Vector2(5.5, 0)
shape = SubResource("RectangleShape2D_oj8rt")

[node name="EditorCollisionArea2" parent="SpaceshipHull" instance=ExtResource("12_yn67l")]
position = Vector2(47, -1)

[node name="CollisionShape2D" type="CollisionShape2D" parent="SpaceshipHull/EditorCollisionArea2"]
position = Vector2(6, 3)
shape = SubResource("RectangleShape2D_vb1a7")

[node name="EditorCollisionArea3" parent="SpaceshipHull" instance=ExtResource("12_yn67l")]
position = Vector2(1, -14)

[node name="CollisionShape2D" type="CollisionShape2D" parent="SpaceshipHull/EditorCollisionArea3"]
position = Vector2(6, -1)
shape = SubResource("RectangleShape2D_d8q65")

[node name="PartGhost" type="Area2D" parent="."]
unique_name_in_owner = true
position = Vector2(0, -8)

[node name="PartGhostSprite" type="Sprite2D" parent="PartGhost"]
unique_name_in_owner = true

[node name="PartGhostCollisionShape" type="CollisionShape2D" parent="PartGhost"]
unique_name_in_owner = true
shape = SubResource("RectangleShape2D_yn67l")

[node name="CameraController" parent="." instance=ExtResource("15_oj8rt")]

[node name="UI" type="CanvasLayer" parent="."]

[node name="Control" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 9
anchor_bottom = 1.0
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="Panel" type="Panel" parent="UI/Control"]
layout_mode = 1
anchors_preset = 9
anchor_bottom = 1.0
offset_right = 300.0
grow_vertical = 2

[node name="PartsContainer" type="Control" parent="UI/Control/Panel"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="TabBar" type="TabBar" parent="UI/Control/Panel/PartsContainer"]
custom_minimum_size = Vector2(0, 50)
layout_mode = 0
offset_left = 8.0
offset_top = 8.0
offset_right = 292.0
offset_bottom = 58.0
current_tab = 0
tab_count = 4
tab_0/title = "weapons"
tab_1/title = "fuel"
tab_2/title = "oxy"
tab_3/title = "other"

[node name="ScrollContainer" type="ScrollContainer" parent="UI/Control/Panel/PartsContainer"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = 68.0
grow_horizontal = 2
grow_vertical = 2

[node name="MarginContainer" type="MarginContainer" parent="UI/Control/Panel/PartsContainer/ScrollContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_constants/margin_left = 8
theme_override_constants/margin_top = 8
theme_override_constants/margin_right = 8
theme_override_constants/margin_bottom = 8

[node name="List" type="VBoxContainer" parent="UI/Control/Panel/PartsContainer/ScrollContainer/MarginContainer"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="TextureButton" type="TextureButton" parent="UI/Control/Panel/PartsContainer/ScrollContainer/MarginContainer/List"]
visible = false
custom_minimum_size = Vector2(100, 100)
layout_mode = 2
size_flags_horizontal = 4
texture_normal = ExtResource("13_yn67l")
stretch_mode = 4

[node name="TextureButton2" type="TextureButton" parent="UI/Control/Panel/PartsContainer/ScrollContainer/MarginContainer/List"]
visible = false
layout_mode = 2
texture_normal = ExtResource("13_yn67l")

[connection signal="character_died" from="SpaceshipHull/CharacterStatic" to="SpaceshipHull" method="_on_character_static_character_died"]
[connection signal="tab_changed" from="UI/Control/Panel/PartsContainer/TabBar" to="." method="_on_tab_bar_tab_changed"]
